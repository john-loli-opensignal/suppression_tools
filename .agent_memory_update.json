{
  "common_mistakes": {
    "multiple_db_files": {
      "problem": "Creating databases in wrong locations (project root instead of data/databases/)",
      "solution": "ALWAYS use tools.db.get_db_path() and assert the path is correct",
      "fixed": true
    },
    "function_signature_mismatch": {
      "problem": "Calling functions with wrong argument order, especially when mixing positional and keyword args",
      "solution": "Always check function signature before calling. For metrics.competitor_view: (ds, mover_ind, start_date, end_date, primary, competitors, state=None, dma_name=None, db_path=None)",
      "example": "_metrics.competitor_view(_ds, _mover_ind, start_date, end_date, primary, competitors, state=_state, dma_name=_dma, db_path=db_path)",
      "fixed": "2025-10-06"
    }
  },
  "key_function_signatures": {
    "metrics.competitor_view": {
      "signature": "competitor_view(ds, mover_ind, start_date, end_date, primary, competitors, state=None, dma_name=None, db_path=None)",
      "note": "db_path is LAST, not first. Do not pass db_path as positional arg."
    },
    "metrics.national_timeseries": {
      "signature": "national_timeseries(ds, mover_ind, start_date, end_date, state=None, dma_name=None, db_path=None)"
    }
  }
}

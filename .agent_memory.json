{
  "critical_fixes": {
    "windstream_suppression_bug": {
      "date": "2025-10-05",
      "problem": "Windstream had 437 wins to remove but only 37 were suppressed (8.5%)",
      "root_cause": "Hardcoded 5-win minimum for auto suppression was too high for carriers with many small DMA pairs (1-2 wins each)",
      "solution": "Made auto_min_wins configurable (slider, default: 2). Lowered distributed_min_wins default to 1.",
      "key_insight": "Different carriers have different pair distributions. Large carriers (AT&T) have concentrated pairs (100+ wins). Small carriers (Windstream) have distributed pairs (1-5 wins). Hardcoded thresholds fail for one or the other.",
      "commit": "c520b1c",
      "file": "analysis/windstream_debug_analysis.md"
    }
  },
  "suppression_thresholds": {
    "auto_min_wins": {
      "default": 2,
      "range": "1-20",
      "purpose": "Minimum current wins for a pair to be eligible for auto suppression (outliers, first appearance, rare pairs)",
      "guidance": "Lower for small carriers with distributed volume (Windstream, Hughes). Keep at 2-5 for large carriers."
    },
    "distributed_min_wins": {
      "default": 1,
      "range": "1-50",
      "purpose": "Minimum current wins for a pair to receive distributed suppression",
      "guidance": "Keep at 1 to ensure all pairs can participate in distribution. Raise to 2-5 if you want to ignore very small pairs."
    },
    "z_threshold": {
      "default": 2.5,
      "range": "0.5-5.0",
      "purpose": "Z-score threshold for statistical outliers",
      "guidance": "2.5 is standard (99% confidence). Lower to 1.5-2.0 for more aggressive suppression."
    },
    "egregious_threshold": {
      "default": 40,
      "range": "10-100",
      "purpose": "Flag outliers outside top-N carriers if impact exceeds this",
      "guidance": "40 wins is ~5% of typical daily volume. Catches major anomalies even in tail carriers."
    }
  },
  "carrier_characteristics": {
    "large_concentrated": {
      "examples": ["AT&T", "Verizon", "T-Mobile", "Spectrum"],
      "pair_pattern": "Few DMAs, high volume per pair (50-200 wins)",
      "outlier_pattern": "Single pair spikes dominate national outliers",
      "threshold_recommendations": {
        "auto_min_wins": "2-5",
        "distributed_min_wins": "5-10"
      }
    },
    "small_distributed": {
      "examples": ["Windstream", "Hughes", "Consolidated"],
      "pair_pattern": "Many DMAs, low volume per pair (1-5 wins)",
      "outlier_pattern": "National outliers from cumulative effect of many small pair spikes",
      "threshold_recommendations": {
        "auto_min_wins": "1-2",
        "distributed_min_wins": "1"
      }
    }
  }
}
